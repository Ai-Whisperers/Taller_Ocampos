apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: taller-mecanico

bases:
  - ../../base

# Production-specific patches
patchesStrategicMerge:
  - replica-patch.yaml
  - resource-patch.yaml

# Production environment variables
configMapGenerator:
  - name: taller-frontend-config
    behavior: merge
    literals:
      - NEXT_PUBLIC_API_URL=https://api.taller.example.com/api
      - NEXT_PUBLIC_SOCKET_URL=wss://api.taller.example.com
      - NEXT_PUBLIC_APP_URL=https://taller.example.com

images:
  - name: taller-mecanico/backend
    newName: your-registry.com/taller-mecanico/backend
    newTag: v1.0.0
  - name: taller-mecanico/frontend
    newName: your-registry.com/taller-mecanico/frontend
    newTag: v1.0.0

commonLabels:
  environment: production
